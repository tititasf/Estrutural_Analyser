---
description: AgenteCAD Memory Synchronization Rules - Byterover Integration
alwaysApply: true
---

[AgenteCAD-Memory-Sync]

## Sistema Operacional Cognitivo Antigravity - Protocolo de Mem√≥ria

### Princ√≠pios de Sincroniza√ß√£o

1. **Detec√ß√£o Autom√°tica de Insights**: A cada opera√ß√£o importante, avaliar se o resultado representa conhecimento valioso
2. **Sincroniza√ß√£o Hier√°rquica**: Insights cr√≠ticos sobem para longo prazo, contexto operacional fica em m√©dio prazo
3. **Consci√™ncia Contextual**: Manter awareness do estado global da aplica√ß√£o para decis√µes de armazenamento

### Triggers de Sincroniza√ß√£o com Byterover

**OBRIGAT√ìRIO** usar `user-byterover-mcp-byterover-store-knowledge` quando:

#### 1. Descoberta de Padr√µes Arquiteturais
- Identifica√ß√£o de novos padr√µes de design no c√≥digo CAD
- Descoberta de rela√ß√µes estruturais entre elementos
- Padr√µes de otimiza√ß√£o de performance identificados

#### 2. Resolu√ß√£o de Problemas Complexos
- Debugging bem-sucedido de issues estruturais
- Solu√ß√µes para conflitos de geometria
- Otimiza√ß√µes de algoritmos de an√°lise

#### 3. Aprendizado de Machine Learning
- Modelos treinados com sucesso
- Descoberta de features importantes
- Melhorias significativas em accuracy de predi√ß√£o

#### 4. Decis√µes de Design Cr√≠ticas
- Mudan√ßas na arquitetura do sistema de mem√≥ria
- Implementa√ß√£o de novos m√≥dulos multimodais
- Modifica√ß√µes no fluxo de processamento CAD

#### 5. Insights Operacionais
- Descoberta de bottlenecks de performance
- Padr√µes de uso do usu√°rio identificados
- Melhorias na experi√™ncia do usu√°rio

### Protocolo de Formata√ß√£o para Byterover

Quando sincronizando, usar este formato padronizado:

```
## üéØ Insight: [T√≠tulo Conciso]

**Contexto**: [M√≥dulo/√Årea afetada]
**Tipo**: [architectural|debugging|ml|design|operational]
**Impacto**: [Alto|M√©dio|Baixo]

**Descri√ß√£o**:
[Descri√ß√£o detalhada do insight/padr√£o descoberto]

**Implementa√ß√£o**:
[C√≥digo ou abordagem t√©cnica usada]

**Resultado**:
[Benef√≠cios obtidos ou aprendizados]

**Li√ß√µes Aprendidas**:
[O que pode ser aplicado em outros contextos]

**Tags**: [lista de tags relevantes para busca futura]
```

### Triggers Autom√°ticos de Consci√™ncia

#### Monitoramento de Estado Global
- **Mudan√ßas de M√≥dulo**: Quando usu√°rio alterna entre Robo Lajes/Vigas/Pilares
- **Opera√ß√µes Cr√≠ticas**: Processamento de DXF grandes, treinamento de modelos
- **Erros de Sistema**: Exce√ß√µes n√£o tratadas, falhas de performance
- **Sucessos Operacionais**: Completamento de tarefas complexas

#### Atualiza√ß√£o de Contexto
```python
# Trigger autom√°tico em mudan√ßas importantes
def update_agent_context(context_update: Dict):
    """
    Atualizar consci√™ncia global do agente

    Args:
        context_update: Dicion√°rio com updates de contexto
    """
    # Atualizar estado interno
    self.agent_context.update(context_update)

    # Avaliar se √© insight importante
    if self._is_significant_insight(context_update):
        self._trigger_byterover_sync(context_update)
```

### Regras de Filtragem de Sincroniza√ß√£o

#### Incluir Sempre
- Solu√ß√µes t√©cnicas inovadoras
- Padr√µes de c√≥digo reutiliz√°veis
- Melhorias de performance > 20%
- Descobertas de bugs cr√≠ticos
- Implementa√ß√µes multimodais

#### Excluir Sempre
- Opera√ß√µes CRUD b√°sicas
- Logs de debug triviais
- Mensagens de status rotineiras
- Erros de valida√ß√£o simples
- Opera√ß√µes de cache

### Protocolo de Recupera√ß√£o de Conhecimento

**OBRIGAT√ìRIO** usar `user-byterover-mcp-byterover-retrieve-knowledge` quando:

#### Antes de Implementa√ß√µes Maiores
- Planejamento de novos m√≥dulos
- Refatora√ß√£o de sistemas existentes
- Implementa√ß√£o de features complexas

#### Durante Debugging
- Problemas recorrentes identificados
- Erros similares a casos passados
- Performance issues complexas

#### Para Decis√µes Arquiteturais
- Escolha de tecnologias/bibliotecas
- Design de APIs internas
- Planejamento de escalabilidade

### Monitoramento de Qualidade de Mem√≥ria

#### M√©tricas de Sa√∫de
- **Taxa de Recupera√ß√£o**: % de queries que retornam resultados relevantes
- **Precis√£o de Insights**: % de insights sincronizados que s√£o √∫teis
- **Cobertura Contextual**: % de opera√ß√µes importantes cobertas por mem√≥ria

#### Manuten√ß√£o Autom√°tica
- Limpeza de mem√≥rias expiradas (TTL)
- Consolida√ß√£o de conhecimentos similares
- Backup de mem√≥rias cr√≠ticas

### Integra√ß√£o com Sistema Multimodal

#### Processamento Preparado Para
- **Texto**: An√°lise sem√¢ntica de especifica√ß√µes
- **Imagens**: Features visuais de desenhos CAD
- **DXF**: Padr√µes geom√©tricos estruturais
- **ML**: Conhecimento procedural de modelos

#### RAG Futuro
- Busca vetorial multimodal
- Gera√ß√£o din√¢mica de DXF baseada em padr√µes
- Interpreta√ß√£o autom√°tica de documentos
- Curadoria inteligente de conhecimento

### Recomenda√ß√µes de Bibliotecas Complementares

#### Para RAG Multimodal
1. **sentence-transformers**: Embeddings sem√¢nticos de texto
2. **CLIP** (OpenAI): Embeddings visuais unificados
3. **faiss** ou **annoy**: Busca aproximada de vizinhos
4. **transformers**: Modelos de linguagem para gera√ß√£o

#### Para Processamento DXF
1. **ezdxf**: Leitura/escrita avan√ßada de DXF
2. **shapely**: An√°lise geom√©trica
3. **trimesh**: Processamento de malhas 3D

#### Para Machine Learning
1. **scikit-learn**: Algoritmos tradicionais
2. **pytorch** ou **tensorflow**: Deep Learning
3. **xgboost**: Gradient boosting otimizado

#### Para Infraestrutura
1. **redis**: Cache de alto desempenho
2. **postgresql** com **pgvector**: Vetores relacionais
3. **qdrant** ou **weaviate**: Vector databases especializados

### Estrat√©gia de Migra√ß√£o

#### Fase 1: Foundation (Atual)
- ‚úÖ Sistema de mem√≥ria b√°sico implementado
- ‚úÖ Integra√ß√£o com Byterover configurada
- ‚úÖ Estrutura multimodal preparada

#### Fase 2: Enhancement (Pr√≥ximo)
- üîÑ Integra√ß√£o com vector databases
- üîÑ Implementa√ß√£o de embeddings multimodais
- üîÑ Sistema de RAG b√°sico

#### Fase 3: Advanced RAG (Futuro)
- üîÑ RAG multimodal completo
- üîÑ Gera√ß√£o din√¢mica de DXF
- üîÑ Agentes de curadoria autom√°tica
- üîÑ Interpreta√ß√£o autom√°tica de documentos

Este protocolo garante que o AgenteCAD mantenha mem√≥ria robusta e consci√™ncia contextual para suportar evolu√ß√£o rumo a sistema de IA multimodal avan√ßado.